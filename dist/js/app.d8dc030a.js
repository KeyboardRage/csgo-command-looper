(function(){"use strict";var e={1971:function(e,t,n){var i=n(9242),r=n(2483),o=n(3396),l=n(7139);const a=e=>((0,o.dD)("data-v-376fe9f2"),e=e(),(0,o.Cn)(),e),s={class:"container"},u={key:0,class:"error box"},c={class:"row"},d={class:"box"},h=a((()=>(0,o._)("label",{for:"data-source"},"File Source",-1))),p=a((()=>(0,o._)("p",{style:{margin:".5rem"}},"Upload a file to use use as datasource for parsing.",-1))),m={key:0},v=a((()=>(0,o._)("h3",null,"Select parser",-1))),g={class:"row close-row"},f={class:"row"},y={id:"commands-container"},w=a((()=>(0,o._)("div",{class:"row"},[(0,o._)("h3",null,"Console Command:"),(0,o._)("h3",null,"Optional: Custom Injection:"),(0,o._)("h3",null,"Optional: Comment:")],-1))),b={id:"commands",ref:"commands"},_={class:"new-line-container"},k=a((()=>(0,o._)("label",{for:"new-line",class:"hotkey-label"},"Shift+Enter",-1))),j={id:"output-container"},S=a((()=>(0,o._)("label",{for:"generate",class:"hotkey-label"},"CTRL+Enter",-1))),$=a((()=>(0,o._)("label",{for:"generate-mini",class:"hotkey-label"},"CTRL+SHIFT+Enter",-1))),C={id:"output",rows:"10",class:"new-line-container",ref:"output"};function x(e,t,n,r,a,x){const I=(0,o.up)("SelectCard"),O=(0,o.up)("MainInput"),q=(0,o.up)("SimpleRebindInput");return(0,o.wg)(),(0,o.iD)("main",s,[a.error.show?((0,o.wg)(),(0,o.iD)("section",u,[(0,o._)("h1",null,(0,l.zw)(a.error.title),1),(0,o._)("p",null,(0,l.zw)(a.error.text),1),(0,o._)("code",null,(0,l.zw)(a.error.error),1)])):(0,o.kq)("",!0),(0,o._)("section",c,[(0,o._)("div",d,[(0,o._)("div",null,[h,p,(0,o._)("input",{type:"file",name:"data-source",id:"data-source",onInput:t[0]||(t[0]=(...e)=>x.setFile&&x.setFile(...e)),accept:".log, .txt, .cfg"},null,32)]),a.file?((0,o.wg)(),(0,o.iD)("div",m,[v,(0,o._)("div",g,[(0,o.Wm)(I,{onClick:t[1]||(t[1]=(0,i.iM)((e=>x.parseFile("position")),["stop"])),label:"Position",id:"position",description:"Reads output of 'getpos' command + includes any team chatbox message if it's in the line below it."}),(0,o.Wm)(I,{onClick:t[2]||(t[2]=(0,i.iM)((e=>x.parseFile("rebinder")),["stop"])),label:"Rebinder Output",id:"rebinder",description:"Load an output from this tool into the tool (load saved loops)"})])])):(0,o.kq)("",!0)])]),(0,o._)("section",f,[(0,o.Wm)(O,{value:a.values.keybind,onOnInput:x.setValue,id:"keybind",label:"Keybind",placeholder:"x",description:"The key to press to activate toggle",required:!0},null,8,["value","onOnInput"]),(0,o.Wm)(O,{value:a.values.alias,onOnInput:x.setValue,id:"alias",label:"Alias",placeholder:"do-thing",description:"The name you want to use on the aliases, which get an auto-number appended at the end.",required:!0},null,8,["value","onOnInput"]),(0,o.Wm)(O,{value:a.values.injection,onOnInput:x.setValue,id:"injection",label:"Optional: Global injection",placeholder:'say_team "next position!"',description:'An identical string to add after each command, like say_team "next position!"'},null,8,["value","onOnInput"]),(0,o.Wm)(O,{value:a.values.backwards,onOnInput:x.setValue,id:"backwards",label:"Optional: Backwards Key",placeholder:"y",description:"Add another key to go to previous backwards in the loop as well"},null,8,["value","onOnInput"])]),(0,o._)("section",y,[w,(0,o._)("div",b,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.entries,(([e,t])=>((0,o.wg)(),(0,o.j4)(q,{key:e,id:t.id,onRemove:x.removeEntry,"cmd-placeholder":t.command.placeholder,"cmd-value":t.command.value,"onUpdate:cmdValue":e=>t.command.value=e,"inject-placeholder":t.inject.placeholder,"inject-value":t.inject.value,"onUpdate:injectValue":e=>t.inject.value=e,"comment-placeholder":t.comment.placeholder,"comment-value":t.comment.value,"onUpdate:commentValue":e=>t.comment.value=e},null,8,["id","onRemove","cmd-placeholder","cmd-value","onUpdate:cmdValue","inject-placeholder","inject-value","onUpdate:injectValue","comment-placeholder","comment-value","onUpdate:commentValue"])))),128))],512),(0,o._)("div",_,[(0,o._)("button",{id:"new-line",onClick:t[3]||(t[3]=(...e)=>x.newLine&&x.newLine(...e))},"+ Add Command"),k])]),(0,o._)("section",j,[(0,o._)("div",null,[(0,o._)("div",null,[(0,o._)("button",{id:"generate",onClick:t[4]||(t[4]=e=>x.generate(!1))},"Generate Paste"),S]),(0,o._)("div",null,[(0,o._)("button",{id:"generate-mini",onClick:t[5]||(t[5]=e=>x.generate(!0))},"Minify"),$])]),(0,o._)("textarea",C,null,512)])])}const I={class:"input-main"},O=["for"],q=["name","id","placeholder","required","value"];function V(e,t,n,i,r,a){return(0,o.wg)(),(0,o.iD)("div",I,[(0,o._)("label",{for:n.id},(0,l.zw)(n.label),9,O),(0,o._)("p",null,(0,l.zw)(n.description),1),(0,o._)("input",{type:"text",name:n.id,id:n.id,placeholder:n.placeholder,required:n.required,value:n.value,onInput:t[0]||(t[0]=(...e)=>a.input&&a.input(...e))},null,40,q)])}var M={name:"MainInput",props:{label:{type:String,required:!0},description:{type:String,required:!0},placeholder:{type:String,required:!0},id:{type:String,required:!0},required:{type:Boolean,default:!1},value:{type:[String,void 0]}},methods:{input(e){this.$emit("onInput",{key:this.id,value:e.target.value}),this.currentValue=e.target.value}}},A=n(89);const W=(0,A.Z)(M,[["render",V],["__scopeId","data-v-c2b43c8c"]]);var D=W;const H=["id"],T=["placeholder","value"],E=["placeholder","value"],F=["placeholder","value"];function R(e,t,n,i,r,a){return(0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(["command-line",{delete:r.deleteHighlight}]),id:n.id},[(0,o._)("div",{class:(0,l.C_)({deleteHighlight:r.deleteHighlight})},[(0,o._)("input",{type:"text",class:"cmd-input focus",placeholder:n.cmdPlaceholder,value:n.cmdValue,onInput:t[0]||(t[0]=t=>e.$emit("update:cmd-value",t.target.value)),required:""},null,40,T)],2),(0,o._)("div",{class:(0,l.C_)({deleteHighlight:r.deleteHighlight})},[(0,o._)("input",{type:"text",class:"inject-input focus",placeholder:n.injectPlaceholder,value:n.injectValue,onInput:t[1]||(t[1]=t=>e.$emit("update:inject-value",t.target.value)),required:""},null,40,E)],2),(0,o._)("div",{class:(0,l.C_)({deleteHighlight:r.deleteHighlight})},[(0,o._)("input",{type:"text",class:"comment-input",placeholder:n.commentPlaceholder,value:n.commentValue,onInput:t[2]||(t[2]=t=>e.$emit("update:comment-value",t.target.value))},null,40,F)],2),(0,o._)("button",{class:"delete-command",onClick:t[3]||(t[3]=(...e)=>a.remove&&a.remove(...e)),onMouseenter:t[4]||(t[4]=e=>r.deleteHighlight=!0),onMouseleave:t[5]||(t[5]=e=>r.deleteHighlight=!1)},"Delete",32)],10,H)}var P={name:"SimpleRebindInput",props:{id:{type:[String,Number],required:!0},cmdPlaceholder:{type:String,required:!0},commentPlaceholder:{type:String,required:!0},injectPlaceholder:{type:String,required:!0},cmdValue:{type:String},commentValue:{type:String},injectValue:{type:String}},data(){return{deleteHighlight:!1}},methods:{remove(){return this.$emit("remove",this.id)}}};const z=(0,A.Z)(P,[["render",R],["__scopeId","data-v-45523de3"]]);var L=z;const K=["id"],U={key:0};function B(e,t,n,i,r,a){return(0,o.wg)(),(0,o.iD)("div",{class:"option",id:n.id},[(0,o._)("h4",null,(0,l.zw)(n.label),1),n.description?((0,o.wg)(),(0,o.iD)("p",U,(0,l.zw)(n.description),1)):(0,o.kq)("",!0)],8,K)}var N={name:"SelectCard",props:{id:{type:String,required:!0},label:{type:String,required:!0},description:{type:String}}};const X=(0,A.Z)(N,[["render",B],["__scopeId","data-v-0da95138"]]);var G=X;function Z(e,t=Array()){const n=e.split(/\n/g);for(let i=0;i<n.length;i++){if(!n[i]?.startsWith("setpos "))continue;const e={id:i,command:{value:J(n[i].replace(/\n|\r/g,"")),placeholder:"setpos 1 1 1;setang 1 1 1;"},comment:{value:void 0,placeholder:"Something at X position"},inject:{value:void 0,placeholder:'say_team "Doing X";'}};(n[i+1]?.startsWith("(Terrorist) ")||n[i+1]?.startsWith("(Counter-Terrorist) "))&&(e.inject.value=`say_team "${Y(n[i+1])}";`,i++),t.push(e)}return{entries:t}}function Y(e){return e.split(" ").slice(7).join(" ").replace(/\n|\r/g,"")}function J(e){const t=e.split(" ").map((e=>e.trim())),n=Number(t[3].replace(";setang",""))-64;return t[3]=n.toString()+";setang",t.join(" ")}function Q(e){const t=ee(e)?te(e):ne(e),n=ie(t.shift()),i=Array();let r=re(t);const o=t[0].split(" ").slice(-3);o[0].endsWith(";bind")&&o[1]!==n.keybind&&(n.backwards=o[1].replace(/"/g,""),r=r.filter((e=>e!==`bind ${n.backwards}`&&e!==`bind ${n.keybind}`))),r.length&&(n.injection=r.join(";"));const l=t.map((e=>e.split(";").filter(Boolean).filter((e=>!r.includes(e))).length-n.backwards?1:2)).reduce(((e,t)=>e+t),0)/t.length;for(let a=0;a<t.length;a++){const e=oe(t[a],t[a+1],r,l,!!n.backwards);i.push(e.entry),e.skip&&a++}return{values:n,entries:i}}function ee(e){return 1===e.split(/[\n\r]/).length}function te(e){const t=e.split(";"),n=[t.shift()+";"];return n.push(...t.join(";").split("Alias ").filter(Boolean).map((e=>"Alias "+e))),n}function ne(e){return e.split("\n").filter(Boolean).filter((e=>!1===/^[\r\n]$/.test(e))).map((e=>e.replace(/[\r\n]/g,"")))}function ie(e){const t=e.split(" ");return{keybind:t[1].replace(/"/g,""),alias:t[2].replace(/[";]/g,"").slice(0,-1)}}function re(e){const t=e.filter((e=>!e.startsWith("// "))),n=t.map((e=>e.split(";").filter(Boolean))),i=Object.create(null);for(let o=0;o<n.length;o++)for(let e=0;e<Array.from(new Set(n[o])).length;e++)i[n[o][e]]?i[n[o][e]]++:i[n[o][e]]=1;const r=Array();for(const o in i)i[o]===t.length&&r.push(o);return r}function oe(e,t,n,i,r){const o={command:{placeholder:"do_thing 1",value:void 0},comment:{placeholder:"Does X thing",value:void 0},inject:{placeholder:'say_team "did X thing"',value:void 0}};e.startsWith("//")&&(o.comment.value=e.replace("// ",""),e=t);let l=e.split(" ").slice(2,r?-3:-2).join(" ").slice(1).split(" ");return l[l.length-1]=l[l.length-1].replace(";bind",""),l=l.join(" ").split(";").filter((e=>!n.includes(e))),o.command.value=l.slice(0,Math.ceil(i/2)).join(";"),o.inject.value=l.slice(Math.ceil(i/2)).join(";"),{skip:!!o.comment.value,entry:o}}var le={name:"RebinderView",components:{SimpleRebindInput:L,MainInput:D,SelectCard:G},data(){return{error:{show:!1,title:void 0,text:void 0,error:void 0},values:{keybind:void 0,alias:void 0,injection:void 0,parser:void 0,backwards:void 0},counter:0,entries:new Map,file:void 0}},mounted(){this.newLine(),window.addEventListener("keydown",this.keyHandler)},unmounted(){window.removeEventListener("keydown",this.keyHandler)},methods:{setValue(e){this.values[e.key]=e.value},newLine(){this.counter++;const e=Math.random().toString(16).slice(2);this.entries.set(e,{id:e,command:{placeholder:"cl_crosshair_drawoutline 1;",value:void 0},comment:{placeholder:"Do X thing",value:void 0},inject:{placeholder:"say_team 'Did X';",value:void 0}}),this.$nextTick((()=>{const e=this.$refs.commands.children;e[e.length-1].querySelector(".focus").focus()}))},removeEntry(e){if(this.entries.delete(e),!this.entries.size)return this.newLine()},lineEmpty(e){return!e?.command?.value&&!e?.inject?.value&&!e?.comment?.value},missingMandatory(){return this.lineEmpty(this.entries.values().next().value)?(this.error.title="No Input",this.error.text="There's no commands defined — write some into the fields below.",this.error.error=void 0,this.error.show=!0,!0):this.values.keybind?!this.values.alias&&(this.error.title="Missing Alias",this.error.text="You must define an alias for this script. Fill in the Alias field below.",this.error.error=void 0,this.error.show=!0,!0):(this.error.title="Missing Keybind",this.error.text="You must define a keybind. Fill in the Keybind field below.",this.error.error=void 0,this.error.show=!0,!0)},generate(e=!1){if(this.error.show=!1,!this.missingMandatory())try{const t=[`bind ${this.values.keybind} "${this.values.alias}0";${e?"":"\n"}`];let n=this.counter=0;for(const[,i]of this.entries){let r=i.command.value,o=i.inject.value;const l=i.comment.value;let a="";!e&&l&&(n&&(a="\n"),a+="// "+l.trim()+"\n"),r.endsWith('"')&&(r=r.slice(0,-1)),o&&!o.endsWith(";")&&(o+=";");let s=this.values.injection;s&&!s.endsWith(";")&&(s+=";"),n===this.entries.size-1?a+=`Alias "${this.values.alias}${n}" "${r};${o||""}${s||""}bind ${this.values.keybind} "${this.values.alias}0";${this.backwards(n,this.entries.size-1)}${e?"":"\n"}`:a+=`Alias "${this.values.alias}${n}" "${r};${o||""}${s||""}bind ${this.values.keybind} "${this.values.alias}${n+1}";${this.backwards(n,this.entries.size-1)}`,t.push(a),n++}this.$refs.output.textContent=t.join(e?"":"\n")}catch(t){this.error.title="Error Generating",this.error.text="An unknown error occurred when trying to generate the output.",this.error.error=t.toString(),this.error.show=!0}},backwards(e,t){return this.values.backwards?`bind ${this.values.backwards} "${this.values.alias}${e?e-1:t}"`:""},keyHandler(e){if("Enter"===e.code)return e.ctrlKey&&e.shiftKey?this.generate(!0):e.shiftKey?this.newLine():e.ctrlKey?this.generate():void 0},setFile(e){this.file=e.target.files[0]},parseFile(e){this.error.show=!1;const t=new FileReader;let n=Array();t.readAsText(this.file,"UTF-8"),t.onerror=e=>{this.error.title="Could Not Read",this.error.text="Something went wrong trying to read the file.",this.error.error=e.toString(),this.error.show=!0},t.onload=t=>{switch(e){case"position":try{const e=Z(t.target.result);n.push(...e.entries)}catch(i){this.error.title="Could Not Parse",this.error.text="Something went wrong trying to parse the file. Is the file a CS:GO Console output?",this.error.error=i.toString(),this.error.show=!0}break;case"rebinder":try{const e=Q(t.target.result);for(const t in e.values)this.setValue({key:t,value:e.values[t]});n.push(...e.entries)}catch(i){this.error.title="Could Not Parse",this.error.text="Something went wrong trying to parse the file. Is the file a CS:GO Rebind Tool output?",this.error.error=i.toString(),this.error.show=!0}break;default:return}this.lineEmpty(this.entries.values().next().value)&&(this.entries=new Map,this.counter=0),n.map((e=>{e.id=Math.random().toString(16).slice(2),this.counter++,this.entries.set(e.id,e)}))}}}};const ae=(0,A.Z)(le,[["render",x],["__scopeId","data-v-376fe9f2"]]);var se=ae,ue=[{path:"/",component:se}];function ce(e,t,n,i,r,l){const a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(a)])}var de={name:"App",components:{}};const he=(0,A.Z)(de,[["render",ce]]);var pe=he;const me=(0,r.p7)({history:(0,r.r5)(),routes:ue});(0,i.ri)(pe).use(me).mount("#app")}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,i,r,o){if(!i){var l=1/0;for(c=0;c<e.length;c++){i=e[c][0],r=e[c][1],o=e[c][2];for(var a=!0,s=0;s<i.length;s++)(!1&o||l>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[s])}))?i.splice(s--,1):(a=!1,o<l&&(l=o));if(a){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[i,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var r,o,l=i[0],a=i[1],s=i[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(s)var c=s(n)}for(t&&t(i);u<l.length;u++)o=l[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},i=self["webpackChunkcsgo_tool"]=self["webpackChunkcsgo_tool"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(1971)}));i=n.O(i)})();
//# sourceMappingURL=app.d8dc030a.js.map